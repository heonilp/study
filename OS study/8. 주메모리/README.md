
## 19. 주메모리의 관리: Chapter 9. Main Memory (Part 1)

- 메인메모리 : 메모리에 프로그램이 로드되어있다.

- array of bytes, each with its own address.

- CPU fetchs instrictions. / load , store, access

- pair of registers base, limit register / legal addresses.

- Address Binding / a disk as a binary executable file. -> program, process.

- symbolic -> binds, symbolic addresses to relocatable addresses.

- A linker or loader in turn binds - the relocatable addresses to absulute addresses.

- Logical vs. Physical Address Space:

1. logical address :An address generrated by the CPU

2. Physical addresss : An address seen by the memory unit.

- that is, the one loaded into the memory-address register

3. logical address space : the set of all logical addresses - generated by a user program.

- MMU(Memory Management Unit)- H/W

- CPU -> (logical address) ->MMU  ->(Physical address)-> Physical Memory

- relocation register : a base register in MMU.

- Dynameic Loading : 메모리주소공간을 효율적으로 사용, 필요할때만 루틴을사용.

- DLLS : Dynamically Linked Libraries.

- Contiguous Memory Allocation : 연속적 메모리할당, 어떻게 할당 할것인가? 통째로 올리기 때문에 연속할당 . relocation +limit 레지스터

- Variable Partition. hole : block of available memory.

- 성능 평가해서 가장좋은 걸 골라씁시자.

1. First-Fit :first hole

2. Best-Fit : smallest hole , 우선 순위 큐

3. Worst-Fit : largest hole

- Fragmentation (단편화)

1. external Fragmentation 외부 단편화 a large number of small holes. <-Contiguous Memory Allocation

2. internal Fragmentation 내부 단편화 Paging -> 같은크기 page 

- Segmetation : 종류별로 쪼개서 짜르기. -> 외부단편화문제는 심각해짐.

- Paging


## 20. 페이징과 스와핑: Chapter 9. Main Memory (Part 2)

- Paging : non-contiguous, 2개의 문제 , avoid external fragmentation. avoid the associated need for compaction.

- 고정된 사이즈로 블락을 물리적메모리를 짜름 (frames)

- 같은 사이즈의 블록을 논리적 메모리를 짜름 (pages)

- 쪼깼기 때문에 메모리 공간에 연속적으로 안올려도됨. 논리적인 매핑은 OS에서함.

- page number , page offest

- page number는 page 테이블로 따로 관리됨.

- PTBR(page-table base register) : 두번 메모리 엑세스

- Translation Look-aside Buffer (TLB)

- TLB hit

- TLB miss

- hit ratio

- Memory Protection with Paging

- valid-invalid bit : one additional bit

- shared Pages : sharing common code, libc , reentrant code(실행중에 변경되지않는것)

- 페이지 테이블 구조, 페이지가 너무 클때

1. 계층적 테이블 : 페이지테이블의 테이블

2. 해시드 페이지 테이블  , 32bit보다 주소공간이 크면사용

3. Inverted Page Tables : pid의 어떤 테이블이다.

- swapping : 모든 프로세스들의 모든 물리적 주소공간/ 시스템의 물리적 메모리 초과

- 메모리에 올라올때만 들어오고 아니면 메모리 나가라 (swap in / swap out) = (page in page out) , 가상메모리!! 다음시간에 중요